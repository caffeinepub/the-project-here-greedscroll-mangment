{
  "kind": "build_request",
  "title": "Show only relevant wallet in token detail view",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-40",
      "text": "Update frontend/src/components/TokenMetrics.tsx to display only the wallet that holds the selected token (either the issuer wallet rdRvw4pKmEtSnz3cjXBL6HLJJmejtkoQ4 or the dev wallet rw3DPxgusRrvdsbXSjHdXD14ogkNidTTRx) instead of showing both monitored wallets when viewing token details",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-latest"
        ],
        "quotes": [
          "each item tracked if i click view more will show both of the greedyew/hebroid source wallets which is unnecessary on those items"
        ]
      },
      "acceptanceCriteria": [
        "When viewing token details, only the wallet that actually holds the token is displayed",
        "The issuer wallet (rdRvw4pKmEtSnz3cjXBL6HLJJmejtkoQ4) is shown for tokens it issues",
        "The dev wallet (rw3DPxgusRrvdsbXSjHdXD14ogkNidTTRx) is shown when it holds the token",
        "The unnecessary duplicate wallet display is completely removed from the view"
      ]
    },
    {
      "id": "REQ-41",
      "text": "Implement logic in frontend/src/components/TokenMetrics.tsx to determine which wallet is relevant for each token by checking which wallet holds a non-zero balance or has the trust line for the selected token",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-latest"
        ]
      },
      "acceptanceCriteria": [
        "The component checks trust line balances from both monitored wallets",
        "Only wallets with non-zero balances for the selected token are displayed",
        "If a token is issued by one wallet and held by the other, both relationships are correctly identified",
        "The filtering logic handles both standard and hex-encoded currency codes"
      ]
    }
  ],
  "constraints": [
    "Do not modify the existing getTrustLines function in frontend/src/lib/xrpl.ts",
    "Preserve the Layer 2 Trust Lines collapsible section functionality",
    "Maintain the existing wallet label logic (Vault for Schmeckles, Dev Hoard for others)"
  ],
  "nonGoals": [
    "Changing the token whitelist configuration",
    "Modifying how trust lines are fetched from XRPL",
    "Altering the main token list view display"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}